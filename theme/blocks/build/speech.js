!function(){"use strict";var e=window.wp.element,t=(window.React,window.wp.blocks),a=window.wp.blockEditor,l=window.wp.components;(0,t.registerBlockType)("theme/speech",{title:"会話",icon:"format-chat",category:"layout",styles:[{name:"default",label:"左アイコン",isDefault:!0},{name:"reverse",label:"右アイコン",isDefault:!1}],attributes:{name:{type:"string",default:"",source:"text",selector:'[data-gb="name"]'},text:{type:"string",default:"",source:"html",selector:'[data-gb="text"]'},image:{type:"object",default:null}},edit:t=>{a.useBlockProps;const{className:c,attributes:{name:n,text:s,image:m},setAttributes:r}=t,i=c.replace(/\s.+?$/,"");return(0,e.createElement)("div",{className:c},(0,e.createElement)("div",{className:`${i}__thumb`},(0,e.createElement)(a.MediaUploadCheck,null,null==m&&(0,e.createElement)(a.MediaUpload,{onSelect:e=>r({image:e}),allowedTypes:["image"],render:t=>{let{open:a}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:`${i}__picture`}),(0,e.createElement)(l.Button,{className:"image-button",isLink:!0,onClick:a},"画像をアップロード"))}}),m&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("picture",{className:`${i}__picture`},(0,e.createElement)("img",{src:m.url,alt:n,className:`${i}__image`})),(0,e.createElement)(l.Button,{onClick:()=>{r({image:null})},isLink:!0,isDestructive:!0},"画像を削除"))),(0,e.createElement)(l.TextControl,{className:`${i}_name`,value:n,onChange:e=>r({name:e}),placeholder:"名前"})),(0,e.createElement)(a.RichText,{className:`${i}__text`,value:s,onChange:e=>r({text:e}),placeholder:"テキスト"}))},save:t=>{const{className:l="wp-block-theme-speech",attributes:{name:c,text:n,image:s}}=t,m=l.replace(/\s.+?$/,"");return(0,e.createElement)("div",{className:l},(0,e.createElement)("div",{className:`${m}__thumb`},s&&(0,e.createElement)("picture",{className:`${m}__picture`},(0,e.createElement)("img",{src:s.url,alt:c,className:`${m}__image`})),(0,e.createElement)("div",{className:`${m}__name`,"data-gb":"name"},c)),(0,e.createElement)(a.RichText.Content,{tagName:"div",className:`${m}__text`,"data-gb":"text",value:n}))}})}();